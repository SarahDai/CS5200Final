(this.webpackJsonpsafe_travel=this.webpackJsonpsafe_travel||[]).push([[0],{41:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(1),s=n(8),r=n.n(s),i=(n(40),n(41),n(30)),l=n(31),o=n(34),j=n(33),b=n(71),h=n(72),d=n(9),O=n(32),u=function(){return Object(a.jsx)(b.a,{className:"homepage-header text-center",children:Object(a.jsxs)(h.a,{md:{size:10,offset:1},children:[Object(a.jsxs)("h1",{children:[Object(a.jsx)(d.a,{className:"fa-airbnb",icon:O.a}),Object(a.jsx)("span",{className:"left-padding",children:"SafeTravel"})]}),Object(a.jsx)("hr",{})]})})},f=n(13),x=n(23),g=n(22),m=n(11),p=n(80),v=n(82),y=n(81),N=n(73),w=n(74),k=n(75),C=n(76),S=n(77),z=n(78),B=n(79),F=function(e){var t,n=function(e){for(var t=(e=e.toLowerCase()).split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].substring(1);return t.join(" ")}(e.info.Name.replaceAll("-COMMA-",",")),c=e.info.RoomType+" in "+e.info.Neighborhood;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{md:{size:10,offset:1},children:Object(a.jsxs)(w.a,{className:"bottom-margin",children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{children:Object(a.jsx)(k.a,{className:"card-img",top:!0,src:e.info.PictureURL,alt:"airbnb listing picture"})})}),Object(a.jsxs)(C.a,{children:[Object(a.jsx)(S.a,{tag:"h6",children:c}),Object(a.jsx)(z.a,{tag:"h5",children:n}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(h.a,{align:"left",children:Object(a.jsxs)(B.a,{className:"card-text",children:[Object(a.jsx)(d.a,{className:"fab",icon:m.e})," ",e.info.ReviewRating]})}),Object(a.jsx)(h.a,{align:"right",children:Object(a.jsx)(B.a,{className:"card-text",children:e.info.Price})})]}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(h.a,{align:"left",children:(t=e.info.LastWeekCrimeNum,t<=10?Object(a.jsxs)(N.a,{color:"success",className:"safe-bg",children:["Safe ",Object(a.jsx)(N.a,{color:"secondary",children:t})]}):t<=40?Object(a.jsxs)(N.a,{color:"warning",className:"safe-bg",children:["Warning ",Object(a.jsx)(N.a,{color:"secondary",children:t})]}):Object(a.jsxs)(N.a,{color:"danger",className:"safe-bg",children:["Danger ",Object(a.jsx)(N.a,{color:"secondary",children:t})]}))}),Object(a.jsx)(h.a,{align:"right",className:"top-padding url-btn",children:Object(a.jsx)("a",{href:e.info.ListingURL,alt:"Airbnb Listing URL",children:Object(a.jsx)(p.a,{outline:!0,color:"info",className:"utl-btn",children:"Book"})})})]})]})]})})})})},P=function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{md:{size:10,offset:1},children:Object(a.jsx)(y.a,{children:e.listings.map((function(e,t){return Object(a.jsx)(F,{info:e},t)}))})})})})},M=!1,R=[{value:"Any",label:"Any type"},{value:"Entire home/apt",label:"Entire home/apt"},{value:"Private room",label:"Private room"},{value:"Shared room",label:"Shared room"},{value:"Hotel room",label:"Hotel room"}],A=[{value:"Broadway",label:"Broadway"},{value:"Belltown",label:"Belltown"},{value:"Wallingford",label:"Wallingford"},{value:"Central Business District",label:"Central Business District"},{value:"University District",label:"University District"},{value:"Minor",label:"Minor"},{value:"Fremont",label:"Fremont"},{value:"Pike-Market",label:"Pike-Market"}],L=function(e,t){for(var n=0;n<e.selectedOptions.length;n++)if(t.Neighborhood===e.selectedOptions[n].value)return!0;return!1},T=new Headers;T.append("Content-Type","application/json"),T.append("Origin","http://localhost:4002");var E=function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)([]),i=Object(f.a)(r,2),l=i[0],o=i[1],j=Object(c.useState)([]),O=Object(f.a)(j,2),u=O[0],y=O[1],N=Object(c.useState)([]),w=Object(f.a)(N,2),k=w[0],C=w[1];Object(c.useEffect)((function(){fetch("http://localhost:4002/listings",{mode:"cors",method:"GET",headers:T}).then((function(e){return e.json()})).then((function(e){y(e)})).catch((function(e){console.error("Error fetching listings"+e)}))}),[]);var S=function(){M=!1,console.log(n),console.log(l),C(function(e,t,n){var a=Object(x.a)(e);if(console.log("get search",n),Object.keys(t).length>0&&"Any"!==t.selectedOptions.value&&(a=a.filter((function(e){return e.RoomType===t.selectedOptions.value}))),Object.keys(n).length>0&&null!==n.selectedOptions){for(var c=[],s=0;s<a.length;s++)L(n,a[s])&&c.push(a[s]);a=c}return a}(u,n,l))},z=function(){C(function(e){var t=Object(x.a)(e);return t.sort((function(e,t){var n=e.Price.substring(1),a=t.Price.substring(1);return parseFloat(n)-parseFloat(a)})),t}(k))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{xs:{size:10,offset:1},children:Object(a.jsxs)("p",{children:[Object(a.jsx)(d.a,{icon:m.b}),Object(a.jsx)("span",{className:"left-padding",children:"Places to stay in Seattle. "})]})})}),Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{xs:{size:10,offset:1},children:Object(a.jsxs)("p",{children:[Object(a.jsx)(d.a,{icon:m.a}),Object(a.jsx)("span",{className:"left-padding",children:"Select at least one option to begin:  "})]})})}),Object(a.jsxs)(b.a,{className:"bottom-margin",children:[Object(a.jsx)(h.a,{md:{size:4,offset:1},children:Object(a.jsx)(g.a,{options:R,placeholder:"Room Type...",onChange:function(e){console.log(e),M=!0,C([]),s({selectedOptions:e})}})}),Object(a.jsx)(h.a,{md:{size:4},align:"center",children:Object(a.jsx)(g.a,{options:A,placeholder:"Neighborhood...",isMulti:!0,onChange:function(e){M=!0,C([]),o({selectedOptions:e})}})}),Object(a.jsxs)(h.a,{md:"2",align:"left",children:[Object(a.jsxs)(p.a,{color:"secondary",active:n.length>0||l.length>0,disabled:0===n.length&&0===l.length,onClick:function(){S()},children:[Object(a.jsx)(d.a,{icon:m.c})," ","Search"]}),"  ",Object(a.jsxs)(p.a,{color:"info",onClick:function(){return z()},children:["$"," ",Object(a.jsx)(d.a,{icon:m.d})]})]})]}),Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{md:{size:10,offset:1},children:!M&&(n.length>0||l.length>0)&&0===k.length&&Object(a.jsx)(v.a,{color:"danger",children:"The listings doesn't have satisfied result for your query. Modify your configuration and try again!"})})}),k.length>0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{md:{size:10,offset:1},children:Object(a.jsx)("hr",{})})}),Object(a.jsx)(b.a,{children:Object(a.jsx)(h.a,{xs:{size:3,offset:1},className:"bottom-margin",children:Object(a.jsxs)("h6",{children:[k.length," stays in Seattle"]})})}),Object(a.jsx)(P,{listings:k})]})]})},U=function(e){Object(o.a)(n,e);var t=Object(j.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u,{}),Object(a.jsx)(E,{})]})}}]),n}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(a.jsx)(U,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[70,1,2]]]);
//# sourceMappingURL=main.4a795bdd.chunk.js.map