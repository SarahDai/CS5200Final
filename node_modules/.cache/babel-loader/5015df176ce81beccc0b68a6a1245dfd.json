{"ast":null,"code":"import _slicedToArray from\"/Users/monkey/Documents/cs6620_db/project/CS5200Final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"/Users/monkey/Documents/cs6620_db/project/CS5200Final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import Select from\"react-select\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faFilter,faHome,faSearch,faSortNumericDown}from'@fortawesome/free-solid-svg-icons';import{Row,Col,Button,Alert}from\"reactstrap\";import Listings from\"./Listings\";var searchingBegun=false;var sortOnPrice=function sortOnPrice(listings){var sorted=_toConsumableArray(listings);sorted.sort(function(a,b){var first=a['Price'].substring(1);var second=b['Price'].substring(1);return parseFloat(first)-parseFloat(second);});return sorted;};var roomTypeOptions=[{value:'Any',label:'Any type'},{value:'Entire home/apt',label:'Entire home/apt'},{value:'Private room',label:'Private room'},{value:'Shared room',label:'Shared room'},{value:'Hotel room',label:'Hotel room'}];var neighborhoodOptions=[{value:'Broadway',label:'Broadway'},{value:'Belltown',label:'Belltown'},{value:'Wallingford',label:'Wallingford'},{value:'Central Business District',label:'Central Business District'},{value:'University District',label:'University District'},{value:'Minor',label:'Minor'},{value:'Fremont',label:'Fremont'},{value:'Pike-Market',label:'Pike-Market'}];var showListing=function showListing(neighborhood,listing){for(var i=0;i<neighborhood.selectedOptions.length;i++){if(listing['Neighborhood']===neighborhood.selectedOptions[i].value){return true;}}return false;};var getSearchedListings=function getSearchedListings(listings,type,neighborhood){var searchedResults=_toConsumableArray(listings);console.log(\"get search\",neighborhood);if(Object.keys(type).length>0&&type.selectedOptions.value!=='Any'){searchedResults=searchedResults.filter(function(listing){return listing['RoomType']===type.selectedOptions.value;});};if(Object.keys(neighborhood).length>0&&neighborhood.selectedOptions!==null){var result=[];for(var i=0;i<searchedResults.length;i++){if(showListing(neighborhood,searchedResults[i])){result.push(searchedResults[i]);}}searchedResults=result;};return searchedResults;};var headers=new Headers();headers.append('Content-Type','application/json');headers.append('Origin','http://localhost:4002');var Search=function Search(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),roomType=_useState2[0],setRoomType=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),neighborhood=_useState4[0],setNeighborhood=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),result=_useState8[0],setResult=_useState8[1];useEffect(function(){fetch('http://localhost:4002/listings',{mode:'cors',method:'GET',headers:headers}).then(function(response){return response.json();}).then(function(data){setData(data);}).catch(function(error){console.error('Error fetching listings'+error);});},[]);var onSearchClick=function onSearchClick(){searchingBegun=false;console.log(roomType);console.log(neighborhood);setResult(getSearchedListings(data,roomType,neighborhood));};var onTypeOptionChange=function onTypeOptionChange(selectedOptions){console.log(selectedOptions);searchingBegun=true;setResult([]);setRoomType({selectedOptions:selectedOptions});};var onNeighborhoodOptionChange=function onNeighborhoodOptionChange(selectedOptions){searchingBegun=true;setResult([]);setNeighborhood({selectedOptions:selectedOptions});};var onSortPriceClick=function onSortPriceClick(){setResult(sortOnPrice(result));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:{size:10,offset:1},children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faHome}),/*#__PURE__*/_jsx(\"span\",{className:\"left-padding\",children:\"Places to stay in Seattle. \"})]})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:{size:10,offset:1},children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faFilter}),/*#__PURE__*/_jsx(\"span\",{className:\"left-padding\",children:\"Select at least one option to begin:  \"})]})})}),/*#__PURE__*/_jsxs(Row,{className:\"bottom-margin\",children:[/*#__PURE__*/_jsx(Col,{md:{size:4,offset:1},children:/*#__PURE__*/_jsx(Select,{options:roomTypeOptions,placeholder:\"Room Type...\",onChange:onTypeOptionChange})}),/*#__PURE__*/_jsx(Col,{md:{size:4},align:\"center\",children:/*#__PURE__*/_jsx(Select,{options:neighborhoodOptions,placeholder:\"Neighborhood...\",isMulti:true,onChange:onNeighborhoodOptionChange})}),/*#__PURE__*/_jsxs(Col,{md:\"2\",align:\"left\",children:[/*#__PURE__*/_jsxs(Button,{color:\"secondary\",active:roomType.length>0||neighborhood.length>0,disabled:roomType.length===0&&neighborhood.length===0,onClick:function onClick(){onSearchClick();},children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearch}),' ',\"Search\"]}),\"  \",/*#__PURE__*/_jsxs(Button,{color:\"info\",onClick:function onClick(){return onSortPriceClick();},children:[\"$\",\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSortNumericDown})]})]})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:{size:10,offset:1},children:!searchingBegun&&(roomType.length>0||neighborhood.length>0)&&result.length===0&&/*#__PURE__*/_jsx(Alert,{color:\"danger\",children:\"The listings doesn't have satisfied result for your query. Modify your configuration and try again!\"})})}),result.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:{size:10,offset:1},children:/*#__PURE__*/_jsx(\"hr\",{})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:{size:3,offset:1},className:\"bottom-margin\",children:/*#__PURE__*/_jsxs(\"h6\",{children:[result.length,\" stays in Seattle\"]})})}),/*#__PURE__*/_jsx(Listings,{listings:result})]})]});};export default Search;","map":{"version":3,"sources":["/Users/monkey/Documents/cs6620_db/project/CS5200Final/src/components/Search.js"],"names":["React","useState","useEffect","Select","FontAwesomeIcon","faFilter","faHome","faSearch","faSortNumericDown","Row","Col","Button","Alert","Listings","searchingBegun","sortOnPrice","listings","sorted","sort","a","b","first","substring","second","parseFloat","roomTypeOptions","value","label","neighborhoodOptions","showListing","neighborhood","listing","i","selectedOptions","length","getSearchedListings","type","searchedResults","console","log","Object","keys","filter","result","push","headers","Headers","append","Search","roomType","setRoomType","setNeighborhood","data","setData","setResult","fetch","mode","method","then","response","json","catch","error","onSearchClick","onTypeOptionChange","onNeighborhoodOptionChange","onSortPriceClick","size","offset"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Select from \"react-select\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFilter, faHome, faSearch, faSortNumericDown } from '@fortawesome/free-solid-svg-icons';\nimport { Row, Col, Button, Alert } from \"reactstrap\";\nimport Listings from \"./Listings\";\n\nlet searchingBegun = false;\n\nconst sortOnPrice = listings => {\n    let sorted = [...listings]\n    sorted.sort((a,b) => {\n      let first = a['Price'].substring(1)\n      let second = b['Price'].substring(1)\n      return parseFloat(first) - parseFloat(second)\n    })\n    return sorted;\n  }\n\nconst roomTypeOptions = [\n    { value: 'Any', label: 'Any type'},\n    { value: 'Entire home/apt', label: 'Entire home/apt' },\n    { value: 'Private room', label: 'Private room' },\n    { value: 'Shared room', label: 'Shared room'},\n    { value: 'Hotel room', label: 'Hotel room'}\n]\n\nconst neighborhoodOptions = [\n    { value: 'Broadway', label: 'Broadway' },\n    { value: 'Belltown', label: 'Belltown' },\n    { value: 'Wallingford', label: 'Wallingford'},\n    { value: 'Central Business District', label: 'Central Business District' },\n    { value: 'University District', label: 'University District'},\n    { value: 'Minor', label: 'Minor'},\n    { value: 'Fremont', label: 'Fremont'},\n    { value: 'Pike-Market', label: 'Pike-Market'}\n]\n\nconst showListing = (neighborhood, listing) => {\n    for (let i = 0; i < neighborhood.selectedOptions.length; i++) {\n        if (listing['Neighborhood'] === neighborhood.selectedOptions[i].value) {\n            return true;\n        }\n    }\n    return false;\n}\n\nconst getSearchedListings = (listings, type, neighborhood) => {\n    let searchedResults = [...listings];\n    console.log(\"get search\", neighborhood);\n    if (Object.keys(type).length > 0 && type.selectedOptions.value !== 'Any') {\n        searchedResults = searchedResults.filter(listing => listing['RoomType'] === type.selectedOptions.value)\n    };\n    if (Object.keys(neighborhood).length > 0 && neighborhood.selectedOptions !== null) {\n        let result = [];\n        for (let i = 0; i < searchedResults.length; i++) {\n            if (showListing(neighborhood, searchedResults[i])) {\n                result.push(searchedResults[i]);\n            }\n        }\n        searchedResults = result;\n    };\n    return searchedResults;\n}\n\nlet headers = new Headers();\n\nheaders.append('Content-Type', 'application/json');\nheaders.append('Origin','http://localhost:4002');\n\nconst Search = () => {\n    const [roomType, setRoomType] = useState([]);\n    const [neighborhood, setNeighborhood] = useState([]);\n    const [data, setData] = useState([]);\n    const [result, setResult] = useState([]);\n\n    useEffect(() => {\n        fetch('http://localhost:4002/listings',{\n            mode: 'cors',\n            method: 'GET',\n            headers: headers\n        })\n            .then(response => response.json())\n            .then(data => {\n                setData(data);\n            })\n            .catch(error => {\n                console.error('Error fetching listings' + error);\n            })\n    },[]);\n\n    const onSearchClick = () => {\n        searchingBegun = false;\n        console.log(roomType);\n        console.log(neighborhood);\n        setResult(getSearchedListings(data, roomType, neighborhood));\n    }\n\n    const onTypeOptionChange = selectedOptions => {\n        console.log(selectedOptions);\n        searchingBegun = true;\n        setResult([]);\n        setRoomType({ selectedOptions });\n    }\n\n    const onNeighborhoodOptionChange = selectedOptions => {\n        searchingBegun = true;\n        setResult([]);\n        setNeighborhood({ selectedOptions });\n    }\n\n    const onSortPriceClick = () => {\n        setResult(sortOnPrice(result))\n    }\n    return (\n        <>\n            <Row>\n                <Col xs={{size: 10, offset: 1}}>\n                    <p><FontAwesomeIcon icon={faHome} />\n                    <span className=\"left-padding\">Places to stay in Seattle. </span></p>\n                </Col>\n            </Row>\n            <Row>\n                <Col xs={{size: 10, offset: 1}}>\n                    <p><FontAwesomeIcon icon={faFilter} />\n                    <span className=\"left-padding\">Select at least one option to begin:  </span></p>\n                </Col>\n            </Row>\n            <Row className=\"bottom-margin\">\n                <Col md={{size:4, offset: 1}}>\n                    <Select options={roomTypeOptions}\n                            placeholder=\"Room Type...\"\n                            onChange={onTypeOptionChange}\n                            />\n                </Col>\n                <Col md={{size:4}} align=\"center\">\n                    <Select options={neighborhoodOptions}\n                            placeholder=\"Neighborhood...\"\n                            isMulti\n                            onChange={onNeighborhoodOptionChange}\n                            />\n                </Col>\n                <Col md=\"2\" align=\"left\">\n                    <Button color=\"secondary\"\n                            active={roomType.length > 0 || neighborhood.length > 0}\n                            disabled={roomType.length === 0 && neighborhood.length === 0}\n                            onClick={() => {\n                                onSearchClick();\n                                }}><FontAwesomeIcon icon={faSearch} />{' '}\n                        Search\n                    </Button>{\"  \"}\n                    <Button color=\"info\" onClick={() => onSortPriceClick()}>\n                        ${\" \"}<FontAwesomeIcon icon={faSortNumericDown} /></Button>\n                </Col>\n            </Row>\n            <Row>\n                <Col md={{size: 10, offset: 1}}>\n                {\n                    !searchingBegun && (roomType.length > 0 || neighborhood.length > 0) && result.length === 0 &&\n                        <Alert color=\"danger\">The listings doesn't have satisfied result for your query.\n                        Modify your configuration and try again!</Alert>\n                }\n                </Col>\n            </Row>\n            {\n                result.length > 0 \n                && \n                <>\n                    <Row>\n                        <Col md={{size: 10, offset: 1}}>\n                            <hr />\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col xs={{size:3, offset:1}} className=\"bottom-margin\">\n                            <h6>{result.length} stays in Seattle</h6>\n                        </Col>\n                    </Row>\n                    <Listings listings={result} />\n                </>\n            }\n        </>\n    )\n\n\n\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}